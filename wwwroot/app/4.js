(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",(function(){return A}));var r=n("tyNb"),c=n("3Pt+"),o=n("fXoL"),b=n("qdT6"),i=n("LRne"),s=n("lJxs"),a=n("JIr8");let u=(()=>{class t{constructor(t,e){this.repo=t,this.router=e,this.authenticated=!1}login(){return this.authenticated=!1,this.repo.login(this.name,this.password).pipe(Object(s.a)(t=>(t&&(this.authenticated=!0,this.password=null,this.router.navigateByUrl(this.callbackUrl||"/admin/overview")),this.authenticated)),Object(a.a)(t=>(this.authenticated=!1,Object(i.a)(!1))))}logout(){this.authenticated=!1,this.repo.logout(),this.router.navigateByUrl("/admin/login")}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(b.a),o.Pb(r.d))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac}),t})();const l=function(){return{exact:!0}};let d=(()=>{class t{constructor(t,e){this.repo=t,this.authService=e,t.filter.reset(),t.filter.related=!0,this.repo.getProducts(),this.repo.getSuppliers(),this.repo.getOrders()}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(b.a),o.Ib(u))},t.\u0275cmp=o.Cb({type:t,selectors:[["ng-component"]],decls:19,vars:2,consts:[[1,"navbar","bg-info","mb-1"],[1,"navbar-brand","text-white"],[1,"float-right","navbar-text"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"col-3","fixed-bottom","mb-1"],["routerLink","/store",1,"btn","btn-block","btn-secondary"],[1,"row","no-gutters"],[1,"col-3"],["routerLink","/admin","routerLinkActive","active",1,"btn","btn-block","btn-outline-info","m-1",3,"routerLinkActiveOptions"],["routerLink","/admin/products","routerLinkActive","active",1,"btn","btn-block","btn-outline-info","m-1"],["routerLink","/admin/orders","routerLinkActive","active",1,"btn","btn-block","btn-outline-info","m-1"],[1,"col","p-2"]],template:function(t,e){1&t&&(o.Lb(0,"div",0),o.Lb(1,"a",1),o.ic(2,"SPORTS STORE Admin"),o.Kb(),o.Lb(3,"div",2),o.Lb(4,"button",3),o.Sb("click",(function(){return e.authService.logout()})),o.ic(5," Log Out "),o.Kb(),o.Kb(),o.Kb(),o.Lb(6,"div",4),o.Lb(7,"a",5),o.ic(8," Store "),o.Kb(),o.Kb(),o.Lb(9,"div",6),o.Lb(10,"div",7),o.Lb(11,"button",8),o.ic(12," Overview "),o.Kb(),o.Lb(13,"button",9),o.ic(14," Products "),o.Kb(),o.Lb(15,"button",10),o.ic(16," Orders "),o.Kb(),o.Kb(),o.Lb(17,"div",11),o.Jb(18,"router-outlet"),o.Kb(),o.Kb()),2&t&&(o.xb(11),o.Yb("routerLinkActiveOptions",o.Zb(1,l)))},directives:[r.g,r.e,r.f,r.i],encapsulation:2}),t})(),p=(()=>{class t{constructor(t){this.repo=t}get products(){return this.repo.products}get orders(){return this.repo.orders}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(b.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["ng-component"]],decls:13,vars:2,consts:[[1,"table","m-1"],["routerLink","/admin/products",1,"btn","btn-sm","btn-info","btn-block"],["routerLink","/admin/orders",1,"btn","btn-sm","btn-info","btn-block"]],template:function(t,e){1&t&&(o.Lb(0,"table",0),o.Lb(1,"tr"),o.Lb(2,"td"),o.ic(3),o.Kb(),o.Lb(4,"td"),o.Lb(5,"button",1),o.ic(6," Manage Products "),o.Kb(),o.Kb(),o.Kb(),o.Lb(7,"tr"),o.Lb(8,"td"),o.ic(9),o.Kb(),o.Lb(10,"td"),o.Lb(11,"button",2),o.ic(12," Manage Orders "),o.Kb(),o.Kb(),o.Kb(),o.Kb()),2&t&&(o.xb(3),o.kc("There are ",(null==e.products?null:e.products.length)||0," products for sale"),o.xb(6),o.kc("There are ",(null==e.orders?null:e.orders.length)||0," orders"))},directives:[r.e],encapsulation:2}),t})();class g{constructor(t,e,n,r,c,o,b){this.productId=t,this.name=e,this.category=n,this.description=r,this.price=c,this.supplier=o,this.ratings=b}}var h=n("ofXK");function f(t,e){if(1&t&&(o.Lb(0,"option",5),o.ic(1),o.Kb()),2&t){const t=e.$implicit;o.Yb("ngValue",t),o.xb(1),o.jc(t.name)}}let m=(()=>{class t{constructor(t){this.repo=t}get product(){return this.repo.product}get suppliers(){return this.repo.suppliers}compareSuppliers(t,e){return t&&e&&t.name==e.name}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(b.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["admin-product-editor"]],decls:21,vars:7,consts:[[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(t,e){1&t&&(o.Lb(0,"div",0),o.Lb(1,"label"),o.ic(2,"Name"),o.Kb(),o.Lb(3,"input",1),o.Sb("ngModelChange",(function(t){return e.product.name=t})),o.Kb(),o.Kb(),o.Lb(4,"div",0),o.Lb(5,"label"),o.ic(6,"Category"),o.Kb(),o.Lb(7,"input",1),o.Sb("ngModelChange",(function(t){return e.product.category=t})),o.Kb(),o.Kb(),o.Lb(8,"div",0),o.Lb(9,"label"),o.ic(10,"Supplier"),o.Kb(),o.Lb(11,"select",2),o.Sb("ngModelChange",(function(t){return e.product.supplier=t})),o.gc(12,f,2,2,"option",3),o.Kb(),o.Kb(),o.Lb(13,"div",0),o.Lb(14,"label"),o.ic(15,"Description"),o.Kb(),o.Lb(16,"textarea",1),o.Sb("ngModelChange",(function(t){return e.product.description=t})),o.Kb(),o.Kb(),o.Lb(17,"div",0),o.Lb(18,"label"),o.ic(19,"Price"),o.Kb(),o.Lb(20,"input",4),o.Sb("ngModelChange",(function(t){return e.product.price=t})),o.Kb(),o.Kb()),2&t&&(o.xb(3),o.Yb("ngModel",e.product.name),o.xb(4),o.Yb("ngModel",e.product.category),o.xb(4),o.Yb("ngModel",e.product.supplier)("compareWith",e.compareSuppliers),o.xb(1),o.Yb("ngForOf",e.suppliers),o.xb(4),o.Yb("ngModel",e.product.description),o.xb(4),o.Yb("ngModel",e.product.price))},directives:[c.a,c.c,c.f,c.j,h.i,c.h,c.g,c.k],encapsulation:2}),t})();function L(t,e){if(1&t){const t=o.Mb();o.Lb(0,"td"),o.ic(1),o.Kb(),o.Lb(2,"td"),o.ic(3),o.Kb(),o.Lb(4,"td"),o.ic(5),o.Kb(),o.Lb(6,"td"),o.ic(7),o.Kb(),o.Lb(8,"td"),o.ic(9),o.Vb(10,"currency"),o.Kb(),o.Lb(11,"td"),o.Lb(12,"button",8),o.Sb("click",(function(){o.cc(t);const e=o.Ub().$implicit;return o.Ub(2).selectProduct(e.productId)})),o.ic(13," Edit "),o.Kb(),o.Lb(14,"button",9),o.Sb("click",(function(){o.cc(t);const e=o.Ub().$implicit;return o.Ub(2).deleteProduct(e.productId)})),o.ic(15," Delete "),o.Kb(),o.Kb()}if(2&t){const t=o.Ub().$implicit;o.xb(1),o.jc(t.productId),o.xb(2),o.jc(t.name),o.xb(2),o.jc(t.category),o.xb(2),o.jc((null==t.supplier?null:t.supplier.name)||"(None)"),o.xb(2),o.jc(o.Wb(10,5,t.price,"USD","symbol"))}}function K(t,e){if(1&t&&(o.Lb(0,"tr"),o.gc(1,L,16,9,"ng-template",7),o.Kb()),2&t){const t=e.$implicit,n=o.Ub(2),r=o.bc(2);o.xb(1),o.Yb("ngIf",(null==n.product?null:n.product.productId)!=t.productId)("ngIfElse",r)}}function v(t,e){if(1&t){const t=o.Mb();o.Lb(0,"table",3),o.Lb(1,"tbody"),o.Lb(2,"tr"),o.Lb(3,"th"),o.ic(4,"ID"),o.Kb(),o.Lb(5,"th"),o.ic(6,"Name"),o.Kb(),o.Lb(7,"th"),o.ic(8,"Category"),o.Kb(),o.Lb(9,"th"),o.ic(10,"Supplier"),o.Kb(),o.Lb(11,"th"),o.ic(12,"Price"),o.Kb(),o.Jb(13,"th"),o.Kb(),o.gc(14,K,2,2,"tr",4),o.Kb(),o.Lb(15,"tfoot"),o.Lb(16,"tr"),o.Lb(17,"td",5),o.Lb(18,"button",6),o.Sb("click",(function(){o.cc(t);const e=o.Ub();return e.clearProduct(),e.tableMode=!1})),o.ic(19," Create "),o.Kb(),o.Kb(),o.Kb(),o.Kb(),o.Kb()}if(2&t){const t=o.Ub();o.xb(14),o.Yb("ngForOf",t.products)}}function S(t,e){if(1&t){const t=o.Mb();o.Lb(0,"td",10),o.Jb(1,"admin-product-editor"),o.Lb(2,"div",11),o.Lb(3,"button",8),o.Sb("click",(function(){return o.cc(t),o.Ub().saveProduct()})),o.ic(4," Save "),o.Kb(),o.Lb(5,"button",12),o.Sb("click",(function(){return o.cc(t),o.Ub().clearProduct()})),o.ic(6," Cancel "),o.Kb(),o.Kb(),o.Kb()}}function k(t,e){if(1&t){const t=o.Mb();o.Lb(0,"div",13),o.Jb(1,"admin-product-editor"),o.Lb(2,"button",6),o.Sb("click",(function(){return o.cc(t),o.Ub().saveProduct()})),o.ic(3," Save "),o.Kb(),o.Lb(4,"button",14),o.Sb("click",(function(){return o.cc(t),o.Ub().clearProduct()})),o.ic(5," Cancel "),o.Kb(),o.Kb()}}let x=(()=>{class t{constructor(t){this.repo=t,this.tableMode=!0}get product(){return this.repo.product}selectProduct(t){this.repo.getProduct(t)}saveProduct(){null==this.repo.product.productId?this.repo.createProduct(this.repo.product):this.repo.replaceProduct(this.repo.product),this.clearProduct(),this.tableMode=!0}deleteProduct(t){this.repo.deleteProduct(t)}clearProduct(){this.repo.product=new g,this.tableMode=!0}get products(){return this.repo.products}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(b.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["ng-component"]],decls:5,vars:2,consts:[["class","table table-sm table-striped",4,"ngIf","ngIfElse"],["edit",""],["create",""],[1,"table","table-sm","table-striped"],[4,"ngFor","ngForOf"],["colspan","6",1,"text-center"],[1,"btn","btn-primary",3,"click"],[3,"ngIf","ngIfElse"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-danger","ml-1",3,"click"],["colspan","6",1,"bg-light","border","p-3"],[1,"text-center"],[1,"btn","btn-sm","btn-info","ml-1",3,"click"],[1,"m-2"],[1,"btn","btn-info","ml-1",3,"click"]],template:function(t,e){if(1&t&&(o.gc(0,v,20,1,"table",0),o.gc(1,S,7,0,"ng-template",null,1,o.hc),o.gc(3,k,6,0,"ng-template",null,2,o.hc)),2&t){const t=o.bc(4);o.Yb("ngIf",e.tableMode)("ngIfElse",t)}},directives:[h.j,h.i,m],pipes:[h.c],encapsulation:2}),t})();function w(t,e){if(1&t){const t=o.Mb();o.Lb(0,"td"),o.Lb(1,"button",6),o.Sb("click",(function(){o.cc(t);const e=o.Ub().$implicit;return o.Ub(2).markShipped(e)})),o.ic(2," Ship "),o.Kb(),o.Kb()}}function M(t,e){if(1&t&&(o.Lb(0,"tr"),o.Lb(1,"td"),o.ic(2),o.Kb(),o.Lb(3,"td"),o.ic(4),o.Kb(),o.Lb(5,"td"),o.ic(6),o.Kb(),o.Lb(7,"td"),o.ic(8),o.Vb(9,"currency"),o.Kb(),o.gc(10,w,3,0,"td",5),o.Kb()),2&t){const t=e.$implicit;o.Ub(2);const n=o.bc(2);o.xb(2),o.jc(t.name),o.xb(2),o.jc(t.address),o.xb(2),o.jc(t.products.length),o.xb(2),o.jc(o.Wb(9,6,t.payment.total,"USD","symbol")),o.xb(2),o.Yb("ngIf",!t.shipped)("ngIfElse",n)}}function y(t,e){if(1&t&&(o.Lb(0,"table",3),o.Lb(1,"tbody"),o.Lb(2,"tr"),o.Lb(3,"th"),o.ic(4,"Customer"),o.Kb(),o.Lb(5,"th"),o.ic(6,"Address"),o.Kb(),o.Lb(7,"th"),o.ic(8,"Products"),o.Kb(),o.Lb(9,"th"),o.ic(10,"Total"),o.Kb(),o.Jb(11,"th"),o.Kb(),o.gc(12,M,11,10,"tr",4),o.Kb(),o.Kb()),2&t){const t=o.Ub();o.xb(12),o.Yb("ngForOf",t.orders)}}function I(t,e){1&t&&(o.Lb(0,"td"),o.ic(1,"Shipped"),o.Kb())}function P(t,e){1&t&&(o.Lb(0,"h3",7),o.ic(1,"There are no orders"),o.Kb())}let C=(()=>{class t{constructor(t){this.repo=t}get orders(){return this.repo.orders}markShipped(t){this.repo.shipOrder(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(b.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["ng-component"]],decls:5,vars:2,consts:[["class","table table-striped",4,"ngIf","ngIfElse"],["shipped",""],["nodata",""],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"text-center"]],template:function(t,e){if(1&t&&(o.gc(0,y,13,1,"table",0),o.gc(1,I,2,0,"ng-template",null,1,o.hc),o.gc(3,P,2,0,"ng-template",null,2,o.hc)),2&t){const t=o.bc(4);o.Yb("ngIf",(null==e.orders?null:e.orders.length)>0)("ngIfElse",t)}},directives:[h.j,h.i],pipes:[h.c],encapsulation:2}),t})(),U=(()=>{class t{constructor(t,e){this.router=t,this.authService=e}canActivateChild(t,e){return!!this.authService.authenticated||(this.authService.callbackUrl=t.url.toString(),this.router.navigateByUrl("/admin/login"),!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(r.d),o.Pb(u))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},providers:[u,U],imports:[[r.h,c.b,h.b]]}),t})();function j(t,e){1&t&&(o.Lb(0,"h4",13),o.ic(1," Invalid username or password\n"),o.Kb())}function Y(t,e){1&t&&(o.Lb(0,"div",14),o.ic(1," Please enter your user name "),o.Kb())}function E(t,e){1&t&&(o.Lb(0,"div",14),o.ic(1," Please enter your password "),o.Kb())}const F=[{path:"login",component:(()=>{class t{constructor(t){this.authService=t,this.showError=!1}login(){this.showError=!1,this.authService.login().subscribe(t=>{this.showError=!t})}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(u))},t.\u0275cmp=o.Cb({type:t,selectors:[["ng-component"]],decls:21,vars:6,consts:[[1,"navbar","bg-info","mb-1"],[1,"navbar-brand","text-white"],["class","p-2 bg-danger text-white",4,"ngIf"],["novalidate","",1,"m-3"],["authForm","ngForm"],[1,"form-group"],["name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","text-danger",4,"ngIf"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],[1,"text-center","pt-2"],[1,"btn","btn-primary",3,"disabled","click"],[1,"p-2","bg-danger","text-white"],[1,"text-danger"]],template:function(t,e){if(1&t&&(o.Lb(0,"div",0),o.Lb(1,"a",1),o.ic(2,"SPORTS STORE Admin"),o.Kb(),o.Kb(),o.gc(3,j,2,0,"h4",2),o.Lb(4,"form",3,4),o.Lb(6,"div",5),o.Lb(7,"label"),o.ic(8,"Name:"),o.Kb(),o.Lb(9,"input",6,7),o.Sb("ngModelChange",(function(t){return e.authService.name=t})),o.Kb(),o.gc(11,Y,2,0,"div",8),o.Kb(),o.Lb(12,"div",5),o.Lb(13,"label"),o.ic(14,"Password:"),o.Kb(),o.Lb(15,"input",9,10),o.Sb("ngModelChange",(function(t){return e.authService.password=t})),o.Kb(),o.gc(17,E,2,0,"div",8),o.Kb(),o.Lb(18,"div",11),o.Lb(19,"button",12),o.Sb("click",(function(){return e.login()})),o.ic(20," Login "),o.Kb(),o.Kb(),o.Kb()),2&t){const t=o.bc(5),n=o.bc(10),r=o.bc(16);o.xb(3),o.Yb("ngIf",e.showError),o.xb(6),o.Yb("ngModel",e.authService.name),o.xb(2),o.Yb("ngIf",n.invalid),o.xb(4),o.Yb("ngModel",e.authService.password),o.xb(2),o.Yb("ngIf",r.invalid),o.xb(2),o.Yb("disabled",t.invalid)}},directives:[h.j,c.l,c.d,c.e,c.a,c.i,c.c,c.f],encapsulation:2}),t})()},{path:"",component:d,canActivateChild:[U],children:[{path:"products",component:x},{path:"orders",component:C},{path:"overview",component:p},{path:"",component:p}]}];let A=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},imports:[[r.h,c.b,r.h.forChild(F),h.b,O]]}),t})()}}]);